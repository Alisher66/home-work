<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>
        // 11) В анкете приводятся данные о семи сотрудниках: фамилия, дата рождения и оклад. Все сотрудники в зависимости от возраста разделяются на категории: менее 30 лет — "молодой", от 30 до 55 — "средний возраст", более 55 — "старший возраст"., Напишите сценарий вычисления возраста каждого сотрудника и размер средней зарплаты для любой категории. Постройте диаграмму, отражающую среднюю зарплату в каждой из трех категорий.



        function showExperience(arr) {

            var now = new Date();
            var experience = [],
                year, date, category = '', young = [], average = [], older = [];

            for (var i = 0; i < arr.length; i++) {
                date = getDateInString(arr[i][1]);

                year = now.getFullYear() - date.getFullYear();
                if (year < 30) {
                    category = 'молодой';
                    young.push([arr[i][0], year, arr[i][2]]);
                } else if(year>=30 && year<55) {
                    category = 'опытный';
                    average.push([arr[i][0], year, arr[i][2]]);
                } else if(year>=55){
                    older.push([arr[i][0], year, arr[i][2]]);
                    category = 'ветеран';
                }
                
                console.log(`У сотрудника ${arr[i][0]}  возраст - ${year}, относиться на категорию \"${category}\" зарплата = ${arr[i][2]}`);
            }
            
            showSalary(young, 'молодой');
            showSalary(average, 'опытный');
            showSalary(older, 'ветеран');
        }

        function getDateInString(dateStr) {
            var arr = dateStr.split('.');

            var year = arr[0],
                month = +arr[1] - 1,
                date = arr[2];

            return new Date(year, month, date);
        }
        
        function showSalary(arr, cat) {
            var sum = 0;
            for(el of arr){
                sum += el[2];
            }
            console.log(`У категории \"${cat}\" средняя зарплата = ${(sum/arr.length).toFixed(2)} `)
        }
       

        var person = [
            ['person1', '1994.3.29', 1000000],
            ['person2', '1980.2.15', 2000000],
            ['person3', '1985.4.20', 1500000],
            ['person4', '1966.10.25', 2500000],
            ['person5', '1999.6.11', 1700000],
            ['person6', '2000.1.3', 500000],
            ['person7', '1965.4.23', 1200000],
        ]

        showExperience(person);
    </script>
</body>

</html>